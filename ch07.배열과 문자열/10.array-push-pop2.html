<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Array::push() & pop()</title>
  <link rel="stylesheet" href="/bootstrap-5.3.2-dist/css/bootstrap.min.css">
</head>

<body>
  <div class="container">
    <div class="row my-3">
      <div class="col">
        <div class="form-check">
          <label><input class="form-check-input" type="checkbox" name="city" value="paris">파리</label>
        </div>
        <div class="form-check">
          <label><input class="form-check-input" type="checkbox" name="city" value="sydney">시드니</label>
        </div>
        <div class="form-check">
          <label><input class="form-check-input" type="checkbox" name="city" value="seoul">서울</label>
        </div>
      </div>
      <div class="col"></div>
    </div>
  </div>

  <script>
    let lists = []; // 선택된 도시 이름을 담을 배열
    const checkboxes = document.querySelectorAll('[name="city"]'); // 모든 체크박스 요소 선택

    // 각 체크박스에 이벤트 핸들러 등록
    for (let checkbox of checkboxes) {
      checkbox.onchange = setListGroup; // 변경 시 setListGroup 함수 실행
    }

    function setListGroup() {
      resetListGroup(); // 기존 리스트 초기화

      // 체크된 항목을 lists 배열에 <li> 형식으로 추가
      for (let checkbox of checkboxes) {
        if (checkbox.checked) {
          lists.push('<li class="list-group-item">' + checkbox.value + '</li>');
        }
      }

      const target = document.querySelector('.col:nth-of-type(2)'); // 결과를 출력할 요소 선택 (2번째 열에 결과 출력)
      target.innerHTML = '<ul class="list-group">' + lists.join('') + '</ul>'; // 리스트를 HTML로 출력
    }

    function resetListGroup() {
      if (lists.length) {
        console.log('[전]', lists.toString()); // 초기화 전 배열 출력
        while (lists.length) {
          lists.pop(); // 배열에서 요소 제거
          console.log('[후]', lists.toString()); // 제거 후 배열 출력
        }
      }
    }
  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>타이밍 이벤트::setTimeout()</title>
  <link rel="stylesheet" href="/bootstrap-5.3.2-dist/css/bootstrap.min.css"> <!-- Bootstrap CSS 로드 -->
</head>

<body>
  <div class="container">
    <!-- 모달창 열기 버튼 -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">모달창-열기</button>
  </div>

  <!-- Bootstrap 모달 구성 -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <!-- 닫기 버튼 -->
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <!-- 닫기 버튼 -->
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <!-- 저장 버튼 -->
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/bootstrap-5.3.2-dist/js/bootstrap.bundle.min.js"></script> <!-- Bootstrap JS 로드 -->
  <script>
    // 2초 후 버튼 클릭 (모달 자동 열기), 동시에 console.log 출력
    let timeout = setTimeout(function () {
      console.log('setTimeout');
      document.querySelector('.btn').click(); // 첫 번째 .btn 클릭 (모달 열림)
    }, 2000);

    // 사용자가 버튼을 수동으로 클릭한 경우 timeout 취소
    document.querySelector('.btn').onclick = function () {
      console.log('timeout', timeout); // 타이머 ID 출력
      clearTimeout(timeout);           // 자동 실행 막기
    }
  </script>
</body>

</html>